# ПР2. Визуализация графа зависимостей

### Шипилов Д.В., группа ИКБО-43-24. Вариант 26.

## Этап 1: Минимальный прототип

- Работа через CLI
- Работа с настраиваемыми параметрами
- Вывод параметров в формате "ключ: значение"
- Обработка ошибок

## Этап 2: Сбор данных

- Реализована основная логика получения данных о зависимостях
- Использован формат пакетов Python (pip)
- Извлечение информации о прямых зависимостях заданного пакета
- Поддержка режима работы с удаленным репозиторием
- Вывод всех прямых зависимостей пакета на экран
- Обработка ошибок при получении данных

## Этап 3: Построение графа зависимостей

### Цель:
Построить граф зависимостей (с учетом транзитивности) и выполнить основные операции над ним.

### Реализованные требования:

1. **Алгоритм BFS с рекурсией** - для получения графа зависимостей
2. **Настраиваемая максимальная глубина** - анализ с учетом глубины, заданной пользователем
3. **Фильтрация пакетов** - игнорирование пакетов, содержащих заданную подстроку в имени
4. **Обработка циклических зависимостей** - корректная обработка циклов в графе
5. **Режим тестирования** - поддержка работы с тестовыми файлами описания графа
6. **Сохранение результатов** - стандартное оформление коммита в репозиторий

### Реализованные возможности:

1. **Класс `DependencyAnalyzer`** - основной класс для анализа зависимостей
2. **Два режима работы**:
   - `remote` - получение данных из PyPI через JSON API и HTML парсинг
   - `test` - работа с тестовыми файлами описания графа
3. **Методы получения метаданных**:
   - `_get_remote_package_metadata()` - получение данных из PyPI
   - `_parse_pypi_html()` - парсинг HTML страницы пакета
   - `_get_test_package_metadata()` - получение данных из тестового файла
4. **Построение графа BFS** - рекурсивный обход зависимостей с ограничением глубины
5. **Фильтрация пакетов** - исключение пакетов по заданной подстроке
6. **Обработка циклов** - предотвращение бесконечной рекурсии при циклических зависимостях

### Использование:

```bash
# Анализ зависимостей пакета requests из PyPI с глубиной 2
python script.py -p requests -r https://pypi.org -m remote -d 2

# Анализ с фильтрацией пакетов, содержащих "test"
python script.py -p requests -m remote -d 3 -i test

# Работа с тестовым репозиторием
python script.py -p A -m test -f test_graph.json -d 2
```

### Формат тестового файла:
```json
{
  "A": ["B", "C"],
  "B": ["D"],
  "C": ["D", "E"],
  "D": [],
  "E": ["A"]
}
```

### Демонстрация функциональности:

1. **Обход графа с ограничением глубины** - показ только зависимостей до заданного уровня
2. **Фильтрация пакетов** - исключение нежелательных зависимостей из анализа
3. **Обработка циклических зависимостей** - корректный обход графов с циклами
4. **Тестовый режим** - работа с различными конфигурациями графов для проверки алгоритмов

### Особенности реализации:

- Рекурсивный BFS с отслеживанием посещенных узлов
- Учет максимальной глубины обхода
- Гибкая система фильтрации пакетов
- Поддержка различных источников данных (PyPI, тестовые файлы)
- Корректная обработка ошибок и исключительных ситуаций